{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/AddProduct.js","admin/ManageCategories.js","admin/ManageProducts.js","admin/UpdateCategory.js","admin/UpdateProduct.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","core/helper/ImageHelper.js","core/Card.js","core/helper/cartHelper.js","core/Home.js","core/helper/coreapicalls.js","user/AdminDashBoard.js","user/Signin.js","user/Signup.js","user/UserDashBoard.js","core/StripeCheckout.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAutheticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","getAllCategories","json","AddCategory","useState","name","setName","error","setError","success","setSuccess","token","handleChange","event","target","value","onSubmit","preventDefault","userId","category","headers","Accept","Authorization","body","stringify","createCategory","_id","data","successMessage","warningMessage","type","onChange","autoFocus","required","placeholder","id","AddProduct","price","stock","photo","categories","loading","createdProduct","getaRedirect","formData","values","setValues","useEffect","FormData","product","createaProduct","files","set","display","accept","map","cate","index","setInterval","performRedirect","ManageCategories","setCategories","preload","deleteThisCategory","categoryId","caetegoryId","deleteCategory","length","ManageProducts","products","setProducts","deleteThisProduct","productId","deleteProduct","UpdateCategory","match","getCategory","params","updateCategory","UpdateProduct","updatedProduct","getProduct","preloadCategories","onUpdate","updateProduct","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","ImageHelper","imageurl","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","redirect","setRedirect","count","cartTitle","cartDescrption","cartPrice","addToCart","item","cart","setItem","addItemToCart","getARedirect","showAddToCart","i","splice","removeItemFromCart","showRemoveFromCart","Home","loadAllProduct","email","AdminDashBoard","Signin","password","didRedirect","signin","authenticate","Signup","UserDashBoard","StripeCheckout","address","usertoken","getFinalAmount","amount","p","makePayment","status","orderData","transaction_id","order","createOrder","stripeKey","shippingAddress","billingAddress","currency","Cart","loadCart","loadAllProducts","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.15eb0fcc.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND","import { API } from \"../../backend\";\r\n\r\nexport const signup = user => {\r\n    return fetch(`${API}/signup`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== \"undefined\") {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if (typeof window !== \"undefined\") {\r\n        localStorage.removeItem(\"jwt\");\r\n        next();\r\n\r\n        return fetch(`${API}/signout`, {\r\n            method: \"GET\"\r\n        })\r\n            .then(response => console.log(\"signout success\"))\r\n            .catch(err => console.log(err));\r\n    }\r\n};\r\n\r\nexport const isAutheticated = () => {\r\n    if (typeof window == \"undefined\") {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem(\"jwt\")) {\r\n        return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { isAutheticated, signout } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return { color: \"#2ecc72\" };\r\n    } else {\r\n        return { color: \"#FFFFFF\" };\r\n    }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-dark\">\r\n            <li className=\"nav-item\">\r\n                <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n                    Home\r\n                </Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <Link\r\n                    style={currentTab(history, \"/cart\")}\r\n                    className=\"nav-link\"\r\n                    to=\"/cart\"\r\n                >\r\n                    Cart\r\n                </Link>\r\n            </li>\r\n            {isAutheticated() && isAutheticated().user.role === 0 && (\r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                        style={currentTab(history, \"/user/dashboard\")}\r\n                        className=\"nav-link\"\r\n                        to=\"/user/dashboard\"\r\n                    >\r\n                        Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n            {isAutheticated() && isAutheticated().user.role === 1 && (\r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                        style={currentTab(history, \"/admin/dashboard\")}\r\n                        className=\"nav-link\"\r\n                        to=\"/admin/dashboard\"\r\n                    >\r\n                        A. Dashboard\r\n                    </Link>\r\n                </li>\r\n            )}\r\n            {!isAutheticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <Link\r\n                            style={currentTab(history, \"/signup\")}\r\n                            className=\"nav-link\"\r\n                            to=\"/signup\"\r\n                        >\r\n                            Signup\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link\r\n                            style={currentTab(history, \"/signin\")}\r\n                            className=\"nav-link\"\r\n                            to=\"/signin\"\r\n                        >\r\n                            Sign In\r\n                        </Link>\r\n                    </li>\r\n                </Fragment>\r\n            )}\r\n            {isAutheticated() && (\r\n                <li className=\"nav-item\">\r\n                    <span\r\n                        className=\"nav-link text-warning\"\r\n                        onClick={() => {\r\n                            signout(() => {\r\n                                history.push(\"/\")\r\n                            })\r\n                        }}>\r\n                        Signout\r\n                    </span>\r\n                </li>\r\n            )}\r\n        </ul>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst Base = ({\r\n    title = \"My Title\",\r\n    description = \"My desription\",\r\n    className = \"bg-dark text-white p-4\",\r\n    children\r\n}) => (\r\n    <div>\r\n        <Menu />\r\n        <div className=\"container-fluid\">\r\n            <div className=\"jumbotron bg-dark text-white text-center\">\r\n                <h2 className=\"display-4\">{title}</h2>\r\n                <p className=\"lead\">{description}</p>\r\n            </div>\r\n\r\n            {/*whatever coming in between.. is here */}\r\n            <div className={className}>{children}</div>\r\n\r\n\r\n        </div>\r\n        <footer className=\"footer bg-dark mt-auto py-3\">\r\n            <div className=\"container-fluid bg-success text-white text-center py-3\">\r\n                <h4>If you got any questions, feel free to reach out!</h4>\r\n                <button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n            </div>\r\n            <div className=\"container\">\r\n                <span className=\"text-muted\">\r\n                    An Amazing place to buy <span className=\"text-white\">T-shirt</span>\r\n                </span>\r\n            </div>\r\n        </footer>\r\n    </div>\r\n);\r\n\r\nexport default Base;","import { API } from \"../../backend\";\r\n\r\n\r\n//category calls\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    }).then(response => {\r\n        return response.json()\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n//get all categories\r\nexport const getAllCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: \"GET\",\r\n    }).then(response => {\r\n        return response.json();\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n//delete category\r\nexport const deleteCategory = (caetegoryId, userId, token) => {\r\n    return fetch(`${API}/category/${caetegoryId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json()\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n//get a category\r\nexport const getCategory = categoryId => {\r\n    return fetch(`${API}/category/${categoryId}`, {\r\n        method: \"GET\"\r\n    }).then(response => {\r\n        return response.json();\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n//update category\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n    console.log(categoryId, userId, token, category);\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    }).then(response => {\r\n        return response.json()\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n\r\n\r\n\r\n//product calls\r\n//create a product\r\nexport const createaProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    }).then(response => {\r\n        return response.json()\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n//get all products\r\nexport const getAllProducts = () => {\r\n    return fetch(`${API}/products`, {\r\n        method: \"GET\",\r\n    }).then(response => {\r\n        return response.json();\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n//delete a product\r\n\r\nexport const deleteProduct = (productId, userId, token) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        return response.json()\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n//get a product\r\nexport const getProduct = productId => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: \"GET\"\r\n    }).then(response => {\r\n        return response.json();\r\n    })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n//update a product\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    }).then(response => {\r\n        return response.json()\r\n    })\r\n        .catch(err => console.log(err))\r\n}","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { isAutheticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport { createCategory } from './helper/adminapicall';\r\n\r\n\r\nconst AddCategory = () => {\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false)\r\n\r\n    const { user, token } = isAutheticated();\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">Admin Home</Link>\r\n        </div>\r\n    )\r\n\r\n    const handleChange = event => {\r\n        setError(\"\")\r\n        setName(event.target.value)\r\n    }\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false)\r\n\r\n        //backend request fired\r\n        createCategory(user._id, token, { name })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setError(true)\r\n                } else {\r\n                    setError(\"\");\r\n                    setSuccess(true)\r\n                    setName(\"\")\r\n                }\r\n            })\r\n    }\r\n\r\n    const successMessage = () => {\r\n        if (success) {\r\n            return <h4 className=\"text-success\">Category created successfully</h4>\r\n        }\r\n    }\r\n\r\n    const warningMessage = () => {\r\n        if (error) {\r\n            return <h4 className=\"text-danger\">Failed to create category</h4>\r\n        }\r\n    }\r\n\r\n    const myCategoryForm = () => {\r\n        return (\r\n            <form>\r\n                <div className=\"form-group\">\r\n                    <p className=\"lead\">Enter the category</p>\r\n                    <input type=\"text\"\r\n                        className=\"form-control my-3\"\r\n                        onChange={handleChange}\r\n                        value={name}\r\n                        autoFocus\r\n                        required\r\n                        placeholder=\"For ex. Summer\"\r\n                        name=\"\" id=\"\" />\r\n                    <button onClick={onSubmit} className=\"btn btn-outline-info mb-3\">Create Category</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n    return (\r\n        <Base title=\"Create a category here\" description=\"Add a new category for new T-shirts\"\r\n            className=\"container bg-info p-4\">\r\n            <div className=\"row bg-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {warningMessage()}\r\n                    {goBack()}\r\n                    {myCategoryForm()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    )\r\n}\r\nexport default AddCategory;","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { createaProduct, getAllCategories } from \"./helper/adminapicall\";\r\nimport { isAutheticated } from \"../auth/helper\";\r\n\r\nconst AddProduct = () => {\r\n\r\n    const { user, token } = isAutheticated()\r\n\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        stock: \"\",\r\n        photo: \"\",\r\n        categories: [],\r\n        category: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        createdProduct: \"\",\r\n        getaRedirect: false,\r\n        formData: {}\r\n    });\r\n\r\n    const { name, description, price, stock, photo, categories, category, loading, error, createdProduct, getaRedirect, formData } = values;\r\n\r\n    const preload = () => {\r\n        getAllCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error })\r\n            } else {\r\n                setValues({ ...values, categories: data, formData: new FormData() })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload()\r\n    }, []);\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true })\r\n        createaProduct(user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error })\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    description: \"\",\r\n                    price: \"\",\r\n                    photo: \"\",\r\n                    stock: \"\",\r\n                    loading: false,\r\n                    createdProduct: data.name,\r\n                    getaRedirect: true\r\n                })\r\n            }\r\n        })\r\n    };\r\n\r\n    const handleChange = name => event => {\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value)\r\n        setValues({ ...values, [name]: value })\r\n    };\r\n\r\n    const successMessage = () => (\r\n        <div className=\"alert alert-success mt-3\"\r\n            style={{ display: createdProduct ? \"\" : \"none\" }}>\r\n            <h4>{createdProduct} created successfully</h4>\r\n        </div>\r\n    )\r\n\r\n    const errorMessage = () => (\r\n        <div className=\"alert alert-danger mt-3\"\r\n            style={{ display: error ? \"\" : \"none\" }}>\r\n            <h4>Product creation failed</h4>\r\n        </div>\r\n    )\r\n\r\n    const performRedirect = () => {\r\n        if (getaRedirect) {\r\n            return <Redirect to=\"/admin/dashboard\" />\r\n        }\r\n    }\r\n    const createProductForm = () => (\r\n        <form>\r\n            <span>Post photo</span>\r\n            <div className=\"form-group mb-3\">\r\n                <label className=\"btn btn-block btn-success\">\r\n                    <input\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"photo\")}\r\n                        type=\"file\"\r\n                        name=\"photo\"\r\n                        accept=\"image\"\r\n                        placeholder=\"choose a file\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <input\r\n                    onChange={handleChange(\"name\")}\r\n                    name=\"name\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Name\"\r\n                    value={name}\r\n                />\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <textarea\r\n                    onChange={handleChange(\"description\")}\r\n                    name=\"description\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Description\"\r\n                    value={description}\r\n                />\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <input\r\n                    onChange={handleChange(\"price\")}\r\n                    name=\"price\"\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Price\"\r\n                    value={price}\r\n                />\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <select\r\n                    onChange={handleChange(\"category\")}\r\n                    className=\"form-control\"\r\n                    placeholder=\"Category\"\r\n                >\r\n                    <option>Select</option>\r\n                    {categories &&\r\n                        categories.map((cate, index) => (\r\n                            <option key={index} value={cate._id}>{cate.name}</option>\r\n                        ))}\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <input\r\n                    onChange={handleChange(\"stock\")}\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Quantity\"\r\n                    value={stock}\r\n                />\r\n            </div>\r\n\r\n            <button\r\n                type=\"submit\"\r\n                onClick={onSubmit}\r\n                className=\"btn btn-outline-success mb-3\"\r\n            >\r\n                Create Product\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Base\r\n            title=\"Add a product here!\"\r\n            description=\"Welcome to product creation section\"\r\n            className=\"container bg-info p-4\"\r\n        >\r\n            <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n                Admin Home\r\n            </Link>\r\n            <div className=\"row bg-dark text-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {errorMessage()}\r\n                    {createProductForm()}\r\n                    {setInterval(() => {\r\n                        performRedirect()\r\n                    }, 2000)}\r\n\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAutheticated } from \"../auth/helper\";\r\nimport { getAllCategories, deleteCategory } from \"./helper/adminapicall\";\r\n\r\nconst ManageCategories = () => {\r\n    const [categories, setCategories] = useState([]);\r\n\r\n    const { user, token } = isAutheticated();\r\n\r\n    const preload = () => {\r\n        getAllCategories().then(data => {\r\n            console.log(data);\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setCategories(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        preload();\r\n    }, []);\r\n\r\n    const deleteThisCategory = categoryId => {\r\n        deleteCategory(categoryId, user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                preload();\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage categories here\">\r\n            <h2 className=\"mb-4\">All Categories:</h2>\r\n            <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n                <span className=\"\">Admin Home</span>\r\n            </Link>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h2 className=\"text-center text-white my-3\">Total {categories.length} categories</h2>\r\n\r\n                    {categories.map((category, index) => {\r\n                        return (\r\n                            <div key={index} className=\"row text-center mb-2 \">\r\n                                <div className=\"col-4\">\r\n                                    <h3 className=\"text-white text-left\">{category.name}</h3>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <Link\r\n                                        className=\"btn btn-success\"\r\n                                        to={`/admin/category/update/${category._id}`}\r\n                                    >\r\n                                        <span className=\"\">Update</span>\r\n                                    </Link>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            deleteThisCategory(category._id);\r\n                                        }}\r\n                                        className=\"btn btn-danger\"\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default ManageCategories;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAutheticated } from \"../auth/helper\";\r\nimport { getAllProducts, deleteProduct } from \"./helper/adminapicall\";\r\n\r\nconst ManageProducts = () => {\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const { user, token } = isAutheticated();\r\n\r\n    const preload = () => {\r\n        getAllProducts().then(data => {\r\n            console.log(data);\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setProducts(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        preload();\r\n    }, []);\r\n\r\n    const deleteThisProduct = productId => {\r\n        deleteProduct(productId, user._id, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                preload();\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n            <h2 className=\"mb-4\">All products:</h2>\r\n            <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n                <span className=\"\">Admin Home</span>\r\n            </Link>\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <h2 className=\"text-center text-white my-3\">Total {products.length} products</h2>\r\n\r\n                    {products.map((product, index) => {\r\n                        return (\r\n                            <div key={index} className=\"row text-center mb-2 \">\r\n                                <div className=\"col-4\">\r\n                                    <h3 className=\"text-white text-left\">{product.name}</h3>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <Link\r\n                                        className=\"btn btn-success\"\r\n                                        to={`/admin/product/update/${product._id}`}\r\n                                    >\r\n                                        <span className=\"\">Update</span>\r\n                                    </Link>\r\n                                </div>\r\n                                <div className=\"col-4\">\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            deleteThisProduct(product._id);\r\n                                        }}\r\n                                        className=\"btn btn-danger\"\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { isAutheticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\nimport { getCategory, updateCategory } from './helper/adminapicall';\r\n\r\n\r\nconst UpdateCategory = ({ match }) => {\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false)\r\n\r\n    const { user, token } = isAutheticated();\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">Admin Home</Link>\r\n        </div>\r\n    )\r\n\r\n    const preload = (categoryId) => {\r\n        getCategory(categoryId).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setName(data.name)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload(match.params.categoryId)\r\n    }, []);\r\n\r\n    const handleChange = event => {\r\n        setError(\"\")\r\n        setName(event.target.value)\r\n    }\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false)\r\n        console.log({ name });\r\n        //backend request fired\r\n        updateCategory(match.params.categoryId, user._id, token, { name })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setError(true)\r\n                } else {\r\n                    setError(\"\");\r\n                    setSuccess(true)\r\n                    setName(data.name)\r\n                }\r\n            })\r\n    }\r\n\r\n    const successMessage = () => {\r\n        if (success) {\r\n            return <h4 className=\"text-success\">Category updated successfully</h4>\r\n        }\r\n    }\r\n\r\n    const warningMessage = () => {\r\n        if (error) {\r\n            return <h4 className=\"text-danger\">Failed to update category</h4>\r\n        }\r\n    }\r\n\r\n    const myCategoryForm = () => {\r\n        return (\r\n            <form>\r\n                <div className=\"form-group\">\r\n                    <p className=\"lead\">Update the category</p>\r\n                    <input type=\"text\"\r\n                        className=\"form-control my-3\"\r\n                        onChange={handleChange}\r\n                        value={name}\r\n                        autoFocus\r\n                        required\r\n                        placeholder=\"For ex. Summer\"\r\n                        name=\"\" id=\"\" />\r\n                    <button onClick={onSubmit} className=\"btn btn-outline-info mb-3\">Update Category</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n    return (\r\n        <Base title=\"Create a category here\" description=\"Add a new category for new T-shirts\"\r\n            className=\"container bg-info p-4\">\r\n            <div className=\"row bg-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {warningMessage()}\r\n                    {goBack()}\r\n                    {myCategoryForm()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    )\r\n}\r\nexport default UpdateCategory;","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { getProduct, updateProduct, getAllCategories } from \"./helper/adminapicall\";\r\nimport { isAutheticated } from \"../auth/helper\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n\r\n    const { user, token } = isAutheticated()\r\n\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        stock: \"\",\r\n        photo: \"\",\r\n        categories: [],\r\n        category: \"\",\r\n        loading: false,\r\n        error: \"\",\r\n        updatedProduct: \"\",\r\n        getaRedirect: false,\r\n        formData: \"\"\r\n    });\r\n\r\n    const { name, description, price, stock, photo, categories, category, loading, error, updatedProduct, getaRedirect, formData } = values;\r\n\r\n    const preload = (productId) => {\r\n        getProduct(productId).then(data => {\r\n            console.log(data);\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error })\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: data.name,\r\n                    description: data.description,\r\n                    price: data.price,\r\n                    stock: data.stock,\r\n                    category: data.category._id,\r\n                    formData: new FormData()\r\n                })\r\n                preloadCategories()\r\n            }\r\n        })\r\n    }\r\n\r\n    const preloadCategories = () => {\r\n        getAllCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error })\r\n            }\r\n            else {\r\n                setValues({ categories: data, formData: new FormData() })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        preload(match.params.productId)\r\n    }, []);\r\n\r\n    //TODO: we will work on this\r\n    const onUpdate = (event) => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: \"\", loading: true })\r\n        updateProduct(match.params.productId, user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error })\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    name: \"\",\r\n                    description: \"\",\r\n                    price: \"\",\r\n                    photo: \"\",\r\n                    stock: \"\",\r\n                    loading: false,\r\n                    updatedProduct: data.name,\r\n                    getaRedirect: true\r\n                })\r\n            }\r\n        })\r\n    };\r\n\r\n    const handleChange = name => event => {\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        formData.set(name, value)\r\n        setValues({ ...values, [name]: value })\r\n    };\r\n\r\n    const successMessage = () => (\r\n        <div className=\"alert alert-success mt-3\"\r\n            style={{ display: updatedProduct ? \"\" : \"none\" }}>\r\n            <h4>{updatedProduct} Updated successfully</h4>\r\n        </div>\r\n    )\r\n\r\n    const errorMessage = () => (\r\n        <div className=\"alert alert-danger mt-3\"\r\n            style={{ display: error ? \"\" : \"none\" }}>\r\n            <h4>Product updation failed</h4>\r\n        </div>\r\n    )\r\n\r\n    const performRedirect = () => {\r\n        if (getaRedirect) {\r\n            return <Redirect to=\"/admin/dashboard\" />\r\n        }\r\n    }\r\n    const createProductForm = () => (\r\n        <form>\r\n            <span>Post photo</span>\r\n            <div className=\"form-group mb-3\">\r\n                <label className=\"btn btn-block btn-success\">\r\n                    <input\r\n                        className=\"form-control\"\r\n                        onChange={handleChange(\"photo\")}\r\n                        type=\"file\"\r\n                        name=\"photo\"\r\n                        accept=\"image\"\r\n                        placeholder=\"choose a file\"\r\n                    />\r\n                </label>\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <input\r\n                    onChange={handleChange(\"name\")}\r\n                    name=\"name\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Name\"\r\n                    value={name}\r\n                />\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <textarea\r\n                    onChange={handleChange(\"description\")}\r\n                    name=\"description\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Description\"\r\n                    value={description}\r\n                />\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <input\r\n                    onChange={handleChange(\"price\")}\r\n                    name=\"price\"\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Price\"\r\n                    value={price}\r\n                />\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <select\r\n                    onChange={handleChange(\"category\")}\r\n                    className=\"form-control\"\r\n                    placeholder=\"Category\"\r\n                >\r\n                    <option>Select</option>\r\n                    {categories &&\r\n                        categories.map((cate, index) => (\r\n                            <option key={index} value={cate._id}>{cate.name}</option>\r\n                        ))}\r\n                </select>\r\n            </div>\r\n            <div className=\"form-group mb-3\">\r\n                <input\r\n                    onChange={handleChange(\"stock\")}\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Quantity\"\r\n                    value={stock}\r\n                />\r\n            </div>\r\n\r\n            <button\r\n                type=\"submit\"\r\n                onClick={onUpdate}\r\n                className=\"btn btn-outline-success mb-3\"\r\n            >\r\n                Update Product\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Base\r\n            title=\"Add a product here!\"\r\n            description=\"Welcome to product creation section\"\r\n            className=\"container bg-info p-4\"\r\n        >\r\n            <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n                Admin Home\r\n            </Link>\r\n            <div className=\"row bg-dark text-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {errorMessage()}\r\n                    {createProductForm()}\r\n                    {performRedirect()}\r\n\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { isAutheticated } from './index'\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={props =>\r\n                isAutheticated() && isAutheticated().user.role === 1 ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/signin\",\r\n                            state: { from: props.location }\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default AdminRoute;","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { isAutheticated } from './index'\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        isAutheticated() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;","import React from \"react\";\nimport { API } from \"../../backend\";\n\nconst ImageHelper = ({ product }) => {\n  const imageurl = product\n    ? `${API}/product/photo/${product._id}`\n    : `https://images.pexels.com/photos/4530802/pexels-photo-4530802.jpeg?cs=srgb&dl=pexels-sorapong-chaipanya-4530802.jpg&fm=jpg`;\n  return (\n    <div className=\"rounded border border-success p-2\">\n      <img\n        src={imageurl}\n        alt=\"product_photo\"\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\n        className=\"mb-3 rounded\"\n      />\n    </div>\n  );\n};\n\nexport default ImageHelper;\n","import React, { useState, useEffect } from \"react\";\nimport ImageHelper from \"./helper/ImageHelper\";\nimport { Redirect } from \"react-router-dom\";\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\n\nconst Card = ({\n  product,\n  addtoCart = true,\n  removeFromCart = false,\n  setReload = f => f,\n  //   function(f){return f}\n  reload = undefined\n}) => {\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState(product.count);\n\n  const cartTitle = product ? product.name : \"A photo from pexels\";\n  const cartDescrption = product ? product.description : \"Default description\";\n  const cartPrice = product ? product.price : \"DEFAULT\";\n\n  const addToCart = () => {\n    addItemToCart(product, () => setRedirect(true));\n  };\n\n  const getARedirect = redirect => {\n    if (redirect) {\n      return <Redirect to=\"/cart\" />;\n    }\n  };\n\n  const showAddToCart = addtoCart => {\n    return (\n      addtoCart && (\n        <button\n          onClick={addToCart}\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\n        >\n          Add to Cart\n        </button>\n      )\n    );\n  };\n\n  const showRemoveFromCart = removeFromCart => {\n    return (\n      removeFromCart && (\n        <button\n          onClick={() => {\n            removeItemFromCart(product._id);\n            setReload(!reload);\n          }}\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\n        >\n          Remove from cart\n        </button>\n      )\n    );\n  };\n  return (\n    <div className=\"card text-white bg-dark border border-info \">\n      <div className=\"card-header lead\">{cartTitle}</div>\n      <div className=\"card-body\">\n        {getARedirect(redirect)}\n        <ImageHelper product={product} />\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\n          {cartDescrption}\n        </p>\n        <p className=\"btn btn-success rounded  btn-sm px-4\"> {cartPrice}</p>\n        <div className=\"row\">\n          <div className=\"col-12\">{showAddToCart(addtoCart)}</div>\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","export const addItemToCart = (item, next) => {\n  let cart = [];\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n    cart.push({\n      ...item,\n      count: 1\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    next();\n  }\n};\n\nexport const loadCart = () => {\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      return JSON.parse(localStorage.getItem(\"cart\"));\n    }\n  }\n};\n\nexport const removeItemFromCart = productId => {\n  let cart = [];\n  if (typeof window !== undefined) {\n    if (localStorage.getItem(\"cart\")) {\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\n    }\n    cart.map((product, i) => {\n      if (product._id === productId) {\n        cart.splice(i, 1);\n      }\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n  return cart;\n};\n\nexport const cartEmpty = next => {\n  if (typeof window !== undefined) {\n    localStorage.removeItem(\"cart\");\n    let cart = [];\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n    next();\n  }\n};\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nexport default function Home() {\r\n    const [products, setProducts] = useState([]);\r\n    const [error, setError] = useState(false);\r\n\r\n    const loadAllProduct = () => {\r\n        getProducts().then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProducts(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadAllProduct();\r\n    }, []);\r\n\r\n    return (\r\n        <Base title=\"Home Page\" description=\"Welcome to the Tshirt Store\">\r\n            <div className=\"row text-center\">\r\n                <h1 className=\"text-white\">All of tshirts</h1>\r\n                <div className=\"row\">\r\n                    {products.map((product, index) => {\r\n                        return (\r\n                            <div key={index} className=\"col-4 mb-4\">\r\n                                <Card product={product} />\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n}\r\n","import { API } from \"../../backend\";\n\nexport const getProducts = () => {\n  return fetch(`${API}/products`, { method: \"GET\" })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { isAutheticated } from '../auth/helper';\r\nimport Base from '../core/Base';\r\n\r\nconst { user: { name, email } } = isAutheticated();\r\n\r\nconst adminLeftSide = () => {\r\n    return (\r\n        <div className=\"card\">\r\n            <h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\r\n            <ul className=\"list-group\">\r\n                <li className=\"list-group-item\">\r\n                    <Link to=\"/admin/create/category\" className=\"nav-link text-success\">Create Categories</Link>\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                    <Link to=\"/admin/categories\" className=\"nav-link text-success\">Manage Categories</Link>\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                    <Link to=\"/admin/create/product\" className=\"nav-link text-success\">Create Product</Link>\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                    <Link to=\"/admin/products\" className=\"nav-link text-success\">Manage Products</Link>\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                    <Link to=\"/admin/orders\" className=\"nav-link text-success\">Manage Orders</Link>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst adminRightSide = () => {\r\n    return (\r\n        <div className=\"card mb-4\">\r\n            <h4 className=\"card-header\">Admin Information</h4>\r\n            <ul className=\"list-group\">\r\n                <li className=\"list-group-item\">\r\n                    <span className=\"badge bg-success me-4\">Name:</span>{name}\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                    <span className=\"badge bg-success me-4\">Email:</span>{email}\r\n                </li>\r\n                <li className=\"list-group-item\">\r\n                    <span className=\"badge bg-info\">Admin Area</span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AdminDashBoard = () => {\r\n    return (\r\n\r\n        name && email && (\r\n            <Base title=\"Welcome to Admin area\"\r\n                description=\"Manage all of your products here\"\r\n                className=\"container bg-success p-4\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                        {adminLeftSide()}\r\n                    </div>\r\n                    <div className=\"col-9\">\r\n                        {adminRightSide()}\r\n                    </div>\r\n                </div>\r\n            </Base>\r\n        )\r\n    )\r\n}\r\n\r\nexport default AdminDashBoard;\r\n","import React, { useState } from 'react'\r\nimport Base from '../core/Base'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { signin, authenticate, isAutheticated } from '../auth/helper'\r\n\r\nconst Signin = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        email: \"example@gmail.com\",\r\n        password: \"example\",\r\n        error: \"\",\r\n        loading: false,\r\n        didRedirect: false\r\n    })\r\n\r\n    const { email, password, error, loading, didRedirect } = values;\r\n    const { user } = isAutheticated();\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    }\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false, loading: true });\r\n        signin({ email, password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, loading: false });\r\n                } else {\r\n                    authenticate(data, () => {\r\n                        setValues({\r\n                            ...values,\r\n                            didRedirect: true\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n            .catch(console.log(\"Sign In request Failed\"));\r\n    }\r\n\r\n    const performRedirect = () => {\r\n        if (didRedirect) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to=\"/admin/dashboard\" />\r\n            } else {\r\n                return <Redirect to=\"/user/dashboard\" />\r\n            }\r\n        }\r\n        if (isAutheticated()) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n    }\r\n\r\n    const loadingMessage = () => {\r\n        return (\r\n            loading && (\r\n                <div className=\"alert alert-info\"><h2>Loading...</h2></div>\r\n            )\r\n        )\r\n    }\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <div className=\"alert alert-danger\"\r\n                        style={{ display: error ? \"\" : \"none\" }}>\r\n                        {error}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const signInForm = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <form>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Email</label>\r\n                            <input onChange={handleChange(\"email\")} value={email} className=\"form-control\" type=\"email\" />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Password</label>\r\n                            <input onChange={handleChange(\"password\")} value={password} className=\"form-control\" type=\"password\" />\r\n                        </div>\r\n                        <div className=\"text-center mt-4\">\r\n                            <button onClick={onSubmit} className=\"btn btn-success btn-block rounded\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <Base title=\"Sign In Page\" description=\"A page for user to sign In!\">\r\n            {loadingMessage()}\r\n            {errorMessage()}\r\n            {signInForm()}\r\n            {performRedirect()}\r\n            <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default Signin;\r\n","import React, { useState } from 'react'\r\nimport Base from '../core/Base'\r\nimport { Link } from 'react-router-dom'\r\nimport { signup } from '../auth/helper';\r\n\r\n\r\nconst Signup = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n        success: false\r\n    });\r\n\r\n    const { name, email, password, error, success } = values;\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    }\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false });\r\n        signup({ name, email, password })\r\n            .then(data => {\r\n                if (data && data.error) {\r\n                    setValues({ ...values, error: data.error, success: false });\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        name: \"\",\r\n                        email: \"\",\r\n                        password: \"\",\r\n                        error: \"\",\r\n                        success: true\r\n                    });\r\n                }\r\n            })\r\n            .catch(console.log(\"Error in signup\"));\r\n    };\r\n\r\n    const signUpForm = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <form>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Name</label>\r\n                            <input className=\"form-control\" onChange={handleChange(\"name\")} type=\"text\" value={name} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Email</label>\r\n                            <input className=\"form-control\" onChange={handleChange(\"email\")} type=\"email\" value={email} />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-light\">Password</label>\r\n                            <input className=\"form-control\" onChange={handleChange(\"password\")} type=\"password\" value={password} />\r\n                        </div>\r\n                        <div className=\"text-center mt-4\">\r\n                            <button onClick={onSubmit} className=\"btn btn-success btn-block rounded\">Submit</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const successMessage = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <div className=\"alert alert-success\"\r\n                        style={{ display: success ? \"\" : \"none\" }}>\r\n                        New account created successfully. Please <Link to=\"/signin\">Login Here</Link>.\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const errorMessage = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <div className=\"alert alert-danger\"\r\n                        style={{ display: error ? \"\" : \"none\" }}>\r\n                        {error}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Sign Up Page\" description=\"A page for user to sign Up!\">\r\n            {successMessage()}\r\n            {errorMessage()}\r\n            {signUpForm()}\r\n            <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default Signup;\r\n","import React from 'react'\r\nimport Base from '../core/Base';\r\n\r\nconst UserDashBoard = () => {\r\n    return (\r\n        <Base title=\"UserDashBoard Page\">\r\n            <h1>This is UserDashBoard Page</h1>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default UserDashBoard;","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { isAutheticated } from '../auth/helper'\r\nimport { cartEmpty, loadCart } from './helper/cartHelper'\r\nimport StripeCheckoutButton from \"react-stripe-checkout\"\r\nimport { API } from '../backend'\r\nimport { createOrder } from './helper/orderHelper'\r\n\r\n\r\nconst StripeCheckout = ({ products, setReload = f => f, reload = undefined }) => {\r\n\r\n    const [data, setData] = useState({\r\n        loading: false,\r\n        success: false,\r\n        error: \"\",\r\n        address: \"\"\r\n    })\r\n\r\n    const userId = isAutheticated() && isAutheticated().user._id\r\n    const usertoken = isAutheticated() && isAutheticated().token\r\n\r\n    const getFinalAmount = () => {\r\n        let amount = 0;\r\n        products.map(p => {\r\n            amount = amount + p.price;\r\n        })\r\n        return amount;\r\n    }\r\n    const makePayment = (token) => {\r\n        const body = {\r\n            token,\r\n            products\r\n        }\r\n        const headers = {\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n        return fetch(`${API}/stripepayment`, {\r\n            method: \"POST\",\r\n            headers,\r\n            body: JSON.stringify(body)\r\n        }).then(response => {\r\n            console.log(response)\r\n            //write further methods such as create_order\r\n            const { status } = response;\r\n            console.log(\"STATUS\", status)\r\n\r\n            const orderData = {\r\n                products: products,\r\n                transaction_id: response.id,\r\n                amount: response.amount\r\n            }\r\n            console.log(token);\r\n            createOrder(userId, usertoken, orderData)\r\n\r\n            cartEmpty(() => {\r\n                console.log(\"Crash?????\");\r\n            })\r\n            setReload(!reload)\r\n        })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const showStripeButton = () => {\r\n        return isAutheticated() ? (\r\n            <StripeCheckoutButton\r\n                stripeKey={process.env.REACT_APP_STRIPEKEY}\r\n                token={makePayment}\r\n                amount={getFinalAmount() * 100}\r\n                name=\"Buy T-shirts\"\r\n                shippingAddress\r\n                billingAddress\r\n                currency=\"INR\"\r\n            >\r\n                <button className=\"btn btn-success\">Pay with stripe</button>\r\n            </StripeCheckoutButton >\r\n        ) : (\r\n            <Link to=\"/signin\">\r\n                <button className=\"btn btn-warning\">Signin</button>\r\n            </Link>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h3 className=\"text-white\">Stripe checkout {getFinalAmount()}</h3>\r\n            {showStripeButton()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StripeCheckout\r\n","import { API } from \"../../backend\";\n\nexport const createOrder = (userId, token, orderData) => {\n  return fetch(`${API}/order/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({ order: orderData })\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React, { useState, useEffect } from \"react\";\nimport \"../styles.css\";\nimport { API } from \"../backend\";\nimport Base from \"./Base\";\nimport Card from \"./Card\";\nimport { loadCart } from \"./helper/cartHelper\";\nimport StripeCheckout from \"./StripeCheckout\";\n\nconst Cart = () => {\n  const [products, setProducts] = useState([]);\n  const [reload, setReload] = useState(false);\n\n  useEffect(() => {\n    setProducts(loadCart());\n  }, [reload]);\n\n  const loadAllProducts = products => {\n    return (\n      <div>\n        <h2>This section is to load products</h2>\n        {products.map((product, index) => (\n          <Card\n            key={index}\n            product={product}\n            removeFromCart={true}\n            addtoCart={false}\n            setReload={setReload}\n            reload={reload}\n          />\n        ))}\n      </div>\n    );\n  };\n  const loadCheckout = () => {\n    return (\n      <div>\n        <h2>This section for checkout</h2>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Cart Page\" description=\"Ready to checkout\">\n      <div className=\"row text-center\">\n        <div className=\"col-6\">\n          {products.length > 0 ? (\n            loadAllProducts(products)\n          ) : (\n            <h4>No products</h4>\n          )}\n        </div>\n        <div className=\"col-6\">\n          <StripeCheckout\n            products={products}\n            setReload={setReload}\n            reload={reload}\n          />\n          {/* <Paymentb products={products} setReload={setReload} /> */}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default Cart;\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\nimport AddCategory from './admin/AddCategory';\r\nimport AddProduct from './admin/AddProduct';\r\nimport ManageCategories from './admin/ManageCategories';\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateCategory from './admin/UpdateCategory';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\nimport AdminRoute from './auth/helper/AdminRoutes';\r\nimport PrivateRoute from './auth/helper/PrivateRoutes';\r\nimport Home from './core/Home'\r\nimport AdminDashBoard from './user/AdminDashBoard';\r\nimport Signin from './user/Signin';\r\nimport Signup from './user/Signup';\r\nimport UserDashBoard from './user/UserDashBoard';\r\nimport Cart from \"./core/Cart\";\r\n\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch>\r\n                <Route exact path='/' component={Home} />\r\n                <Route exact path='/signup' component={Signup} />\r\n                <Route exact path='/signin' component={Signin} />\r\n                <Route path=\"/cart\" exact component={Cart} />\r\n                <PrivateRoute exact path='/user/dashboard' component={UserDashBoard} />\r\n                <AdminRoute exact path='/admin/dashboard' component={AdminDashBoard} />\r\n                <AdminRoute exact path='/admin/create/category' component={AddCategory} />\r\n                <AdminRoute exact path='/admin/categories' component={ManageCategories} />\r\n                <AdminRoute exact path='/admin/create/product' component={AddProduct} />\r\n                <AdminRoute exact path='/admin/products' component={ManageProducts} />\r\n                <AdminRoute exact path='/admin/product/update/:productId' component={UpdateProduct} />\r\n                <AdminRoute exact path='/admin/category/update/:categoryId' component={UpdateCategory} />\r\n\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Routes from \"./Routes\"\r\nimport ReactDOM from 'react-dom'\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"))"],"sourceRoot":""}